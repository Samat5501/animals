<!DOCTYPE html>
<html lang="ky">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ñ–∞–Ω—ã–±–∞—Ä–ª–∞—Ä –¥“Ø–π–Ω”©—Å“Ø </title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        header {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 1.2em;
        }

        .firebase-status {
            display: inline-block;
            margin-top: 10px;
            padding: 5px 15px;
            background: #27ae60;
            color: white;
            border-radius: 20px;
            font-size: 0.9em;
        }

        .firebase-status.loading {
            background: #f39c12;
        }

        .firebase-status.error {
            background: #e74c3c;
        }

        nav {
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .nav-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 25px;
            margin: 5px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
        }

        .nav-btn:hover {
            background: #764ba2;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .nav-btn.active {
            background: #764ba2;
        }

        .admin-btn {
            background: #e74c3c;
        }

        .admin-btn:hover {
            background: #c0392b;
        }

        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 20px;
        }

        .section {
            display: none;
            animation: fadeIn 0.5s;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animals-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .animal-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            transition: all 0.3s;
            position: relative;
        }

        .animal-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 12px 24px rgba(0,0,0,0.2);
        }

        .animal-icon {
            font-size: 4em;
            text-align: center;
            margin-bottom: 15px;
        }

        .animal-name {
            font-size: 1.8em;
            color: #667eea;
            text-align: center;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .animal-info {
            color: #555;
            line-height: 1.6;
            font-size: 1.05em;
        }

        .fact-box {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            border-left: 4px solid #e17055;
        }

        .fact-title {
            font-weight: bold;
            color: #d63031;
            margin-bottom: 8px;
        }

        .intro-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            text-align: center;
            margin-bottom: 30px;
        }

        .intro-section h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
        }

        .intro-section p {
            color: #555;
            font-size: 1.2em;
            line-height: 1.8;
        }

        .admin-panel {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .admin-panel h2 {
            color: #e74c3c;
            margin-bottom: 20px;
            font-size: 2em;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            color: #555;
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            font-family: inherit;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .btn-submit {
            background: #27ae60;
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-submit:hover {
            background: #229954;
            transform: translateY(-2px);
        }

        .btn-submit:disabled {
            background: #95a5a6;
            cursor: not-allowed;
        }

        .btn-delete {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 0.9em;
            transition: all 0.3s;
        }

        .btn-delete:hover {
            background: #c0392b;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid #c3e6cb;
            display: none;
        }

        .success-message.show {
            display: block;
            animation: slideDown 0.3s;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .download-notice {
            background: #fff3cd;
            border: 2px solid #ffc107;
            color: #856404;
            padding: 20px;
            border-radius: 10px;
            margin: 20px;
            text-align: center;
            font-size: 1.1em;
        }

        .download-notice h3 {
            color: #e74c3c;
            margin-bottom: 15px;
        }

        .download-notice ol {
            text-align: left;
            max-width: 600px;
            margin: 15px auto;
            line-height: 1.8;
        }

        footer {
            background: rgba(255, 255, 255, 0.95);
            text-align: center;
            padding: 20px;
            margin-top: 50px;
            color: #666;
        }
    </style>
</head>
<body>
    <header>
        <h1>üêæ –ñ–∞–Ω—ã–±–∞—Ä–ª–∞—Ä –¥“Ø–π–Ω”©—Å“Ø ü¶Å</h1>
        <p class="subtitle">–£–π –∂–∞–Ω—ã–±–∞—Ä–ª–∞—Ä—ã –∂–∞–Ω–∞ –∂–∞–ø–∞–π—ã –∂–∞–Ω—ã–±–∞—Ä–ª–∞—Ä –∂”©–Ω“Ø–Ω–¥”©</p>
    </header>

    <nav>
        <button class="nav-btn active" onclick="showSection('home')">–ë–∞—à–∫—ã –±–µ—Ç</button>
        <button class="nav-btn" onclick="showSection('pets')">–£–π –∂–∞–Ω—ã–±–∞—Ä–ª–∞—Ä—ã</button>
        <button class="nav-btn" onclick="showSection('wild')">–ñ–∞–ø–∞–π—ã –∂–∞–Ω—ã–±–∞—Ä–ª–∞—Ä</button>
        <button class="nav-btn" onclick="showSection('facts')">–ö—ã–∑—ã–∫—Ç—É—É —Ñ–∞–∫—Ç—ã–ª–∞—Ä</button>
        <button class="nav-btn admin-btn" onclick="showSection('admin')">üë§ –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</button>
    </nav>

    <div class="container">
        <div id="home" class="section active">
            <div class="intro-section">
                <h2>–ñ–∞–Ω—ã–±–∞—Ä–ª–∞—Ä –¥“Ø–π–Ω”©—Å“Ø–Ω”© –∫–æ—à –∫–µ–ª–∏“£–∏–∑!</h2>
                <p>–ë—É–ª —Å–∞–π—Ç—Ç–∞ —Å–∏–∑ —É–π –∂–∞–Ω—ã–±–∞—Ä–ª–∞—Ä—ã –∂–∞–Ω–∞ –∂–∞–ø–∞–π—ã –∂–∞–Ω—ã–±–∞—Ä–ª–∞—Ä –∂”©–Ω“Ø–Ω–¥”© –∫”©–ø—Ç”©–≥”©–Ω –∫—ã–∑—ã–∫—Ç—É—É –º–∞–∞–ª—ã–º–∞—Ç—Ç–∞—Ä–¥—ã —Ç–∞–±–∞ –∞–ª–∞—Å—ã–∑. –ñ–∞–Ω—ã–±–∞—Ä–ª–∞—Ä –±–∏–∑–¥–∏–Ω –ø–ª–∞–Ω–µ—Ç–∞–±—ã–∑–¥—ã–Ω —ç“£ –∫–µ—Ä–µ–º–µ—Ç—Ç“Ø“Ø –∂–∞–Ω–¥—ã–∫—Ç–∞—Ä—ã!</p>
                <p style="margin-top: 15px;">üëÜ –ñ–æ–≥–æ—Ä—É–¥–∞–≥—ã –±–∞—Å–∫—ã—á—Ç–∞—Ä–¥—ã –±–∞—Å—ã–ø, —Ç“Ø—Ä–¥“Ø“Ø –∂–∞–Ω—ã–±–∞—Ä–ª–∞—Ä –º–µ–Ω–µ–Ω —Ç–∞–∞–Ω—ã—à—ã“£—ã–∑!</p>
                <p style="margin-top: 15px; color: #e74c3c; font-weight: bold;">üî• Firebase –º–µ–Ω–µ–Ω - –ú–∞–∞–ª—ã–º–∞—Ç—Ç–∞—Ä –±—É–ª—É—Ç—Ç–∞ –∫–æ–æ–ø—Å—É–∑ —Å–∞–∫—Ç–∞–ª–∞—Ç!</p>
            </div>
        </div>

        <div id="pets" class="section">
            <div class="animals-grid" id="pets-grid"></div>
        </div>

        <div id="wild" class="section">
            <div class="animals-grid" id="wild-grid"></div>
        </div>

        <div id="facts" class="section">
            <div class="intro-section">
                <h2>üåü –ñ–∞–Ω—ã–±–∞—Ä–ª–∞—Ä –∂”©–Ω“Ø–Ω–¥”© –∫—ã–∑—ã–∫—Ç—É—É —Ñ–∞–∫—Ç—ã–ª–∞—Ä üåü</h2>
            </div>
            <div class="animals-grid" id="facts-grid"></div>
        </div>

        <div id="admin" class="section">
            <div class="admin-panel">
                <h2>üë§ –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å - –ñ–∞“£—ã –∂–∞–Ω—ã–±–∞—Ä –∫–æ—à—É—É</h2>
                
                <div id="success-msg" class="success-message">
                    ‚úÖ –ñ–∞–Ω—ã–±–∞—Ä Firebase'–≥–µ –∂–∞–∑—ã–ª–¥—ã!
                </div>

                <form id="animal-form" onsubmit="return false;">
                    <div class="form-group">
                        <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                        <select id="category" required>
                            <option value="">–¢–∞–Ω–¥–∞“£—ã–∑...</option>
                            <option value="pets">–£–π –∂–∞–Ω—ã–±–∞—Ä–ª–∞—Ä—ã</option>
                            <option value="wild">–ñ–∞–ø–∞–π—ã –∂–∞–Ω—ã–±–∞—Ä–ª–∞—Ä</option>
                            <option value="facts">–ö—ã–∑—ã–∫—Ç—É—É —Ñ–∞–∫—Ç—ã–ª–∞—Ä</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>–≠–º–æ–¥–∑–∏ (–∏–∫–æ–Ω–∫–∞):</label>
                        <input type="text" id="icon" placeholder="ü¶ä" required>
                        <small style="color: #888;">–ú–∏—Å–∞–ª—ã: ü¶ä, üêØ, ü¶í, ü¶ì, üê®, ü¶ò, ü¶´, ü¶¶, ü¶•</small>
                    </div>

                    <div class="form-group">
                        <label>–ñ–∞–Ω—ã–±–∞—Ä–¥—ã–Ω –∞—Ç—ã:</label>
                        <input type="text" id="name" placeholder="–ú–∏—Å–∞–ª—ã: –¢“Ø–ª–∫“Ø" required>
                    </div>

                    <div class="form-group">
                        <label>–ñ–∞–Ω—ã–±–∞—Ä –∂”©–Ω“Ø–Ω–¥”© –º–∞–∞–ª—ã–º–∞—Ç:</label>
                        <textarea id="description" placeholder="–ñ–∞–Ω—ã–±–∞—Ä–¥—ã–Ω —Å—ã–ø–∞—Ç—Ç–∞–º–∞—Å—ã–Ω –∂–∞–∑—ã“£—ã–∑..." required></textarea>
                    </div>

                    <div class="form-group">
                        <label>–ö—ã–∑—ã–∫—Ç—É—É —Ñ–∞–∫—Ç:</label>
                        <textarea id="fact" placeholder="–ö—ã–∑—ã–∫—Ç—É—É —Ñ–∞–∫—Ç—ã–Ω—ã –∂–∞–∑—ã“£—ã–∑..." required></textarea>
                    </div>

                    <button type="button" class="btn-submit" onclick="addAnimal()">‚ûï –ñ–∞–Ω—ã–±–∞—Ä–¥—ã –∫–æ—à—É—É</button>
                </form>
            </div>
        </div>
    </div>

    <footer>
        <p>üåç –ñ–∞–Ω—ã–±–∞—Ä–ª–∞—Ä–¥—ã —Å“Ø–π“Ø–ø, –∞–ª–∞—Ä–¥—ã –∫–æ—Ä–≥–æ–π–ª—É! üíö</p>
        <p style="margin-top: 10px;">¬© 2024 –ñ–∞–Ω—ã–±–∞—Ä–ª–∞—Ä –¥“Ø–π–Ω”©—Å“Ø - Firebase üî•</p>
    </footer>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>

    <script>
        // Firebase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
        const firebaseConfig = {
            apiKey: "AIzaSyB7Rz48zMZxDTiMjxCqjpgKWZa82VY7DCY",
            authDomain: "animals-e9bd5.firebaseapp.com",
            databaseURL: "https://animals-e9bd5-default-rtdb.firebaseio.com",
            projectId: "animals-e9bd5",
            storageBucket: "animals-e9bd5.firebasestorage.app",
            messagingSenderId: "242209700234",
            appId: "1:242209700234:web:27f75d95fe751e4bfdf073"
        };

        // Firebase –±–∞—à—Ç–æ–æ
        let db;
        let myAnimals = {
            pets: [
                { icon: 'üêï', name: '–ò—Ç', description: '–ò—Ç - –∞–¥–∞–º–¥—ã–Ω —ç“£ –∂–∞–∫—ã–Ω –¥–æ—Å—É. –ê–ª–∞—Ä –∞–¥–∞–ª–¥—É—É, –∞–∫—ã–ª–¥—É—É –∂–∞–Ω–∞ ”©–∑–≥”©—á”© –∏—à–µ–Ω–∏–º–¥“Ø“Ø –∂–∞–Ω–¥—ã–∫—Ç–∞—Ä.', fact: '–ò—Ç—Ç–µ—Ä–¥–∏–Ω –¥“Ø–π–Ω”©–¥”© 300–¥”©–Ω –∞—à—ã–∫ —Ç“Ø—Ä“Ø –±–∞—Ä!' },
                { icon: 'üêà', name: '–ú—ã—à—ã–∫', description: '–ú—ã—à—ã–∫—Ç–∞—Ä –∫”©—Ä–∫”©–º, —Ç–∞–∑–∞ –∂–∞–Ω–∞ ”©–∑ –∞–ª–¥—ã–Ω—á–∞ –∂–∞–Ω—ã–±–∞—Ä–ª–∞—Ä.', fact: '–ú—ã—à—ã–∫—Ç–∞—Ä –∫–∞—Ä–∞“£–≥—ã–¥–∞ –∞–¥–∞–º–≥–∞ –∫–∞—Ä–∞–≥–∞–Ω–¥–∞ 6 —ç—Å–µ –∂–∞–∫—à—ã –∫”©—Ä”©—Ç.' },
                { icon: 'üê¶', name: '–ö—É—à', description: '–£–π –∫—É—à—Ç–∞—Ä—ã –∫–æ–æ–∑–¥—É–∫ –º–µ–Ω–µ–Ω –∞–¥–∞–º–¥–∞—Ä–≥–∞ –∫—É–±–∞–Ω—ã—á –±–µ—Ä–µ—Ç.', fact: '–ö—ç—ç –±–∏—Ä —Ç–æ—Ç—É —Ç“Ø—Ä–ª”©—Ä“Ø 100–¥”©–Ω –∞—à—ã–∫ —Å”©–∑ “Ø–π—Ä”©–Ω”©—Ç!' },
                { icon: 'üê∞', name: '–ö–æ—ë–Ω', description: '–ö–æ—ë–Ω–¥–æ—Ä –∂—É–º—à–∞–∫ –∂–∞–Ω–∞ –¥–æ—Å—Ç—É–∫ –∂–∞–Ω—ã–±–∞—Ä–ª–∞—Ä.', fact: '–ö–æ—ë–Ω–¥–æ—Ä–¥—É–Ω —Ç–∏—à—Ç–µ—Ä–∏ ”©–º“Ø—Ä –±–æ—é ”©—Å”©—Ç!' }
            ],
            wild: [
                { icon: 'ü¶Å', name: '–ê—Ä—Å—Ç–∞–Ω', description: '–ê—Ä—Å—Ç–∞–Ω - –∂–∞–Ω—ã–±–∞—Ä–ª–∞—Ä–¥—ã–Ω –ø–∞–¥—ã—à–∞—Å—ã!', fact: '–ê—Ä—Å—Ç–∞–Ω–¥—ã–Ω –∫“Ø“Ø—Ä”©–≥”©–Ω“Ø 8 –∫–º –∞—Ä–∞–ª—ã–∫–∫–∞ —É–≥—É–ª–∞—Ç!' },
                { icon: 'üêò', name: '–ü–∏–ª', description: '–ü–∏–ª - –∂–µ—Ä–¥–µ–≥–∏ —ç“£ —á–æ“£ –∂–∞–Ω—ã–±–∞—Ä.', fact: '–ü–∏–ª–¥–µ—Ä–¥–∏–Ω —Ç—É–º—à—É–≥—É–Ω–¥–∞ 40,000 –±—É–ª—á—É“£ –±–∞—Ä!' },
                { icon: 'üêª', name: '–ê—é—É', description: '–ê—é—É–ª–∞—Ä –∫—É—á—Ç“Ø“Ø –∂—ã—Ä—Ç–∫—ã—á—Ç–∞—Ä.', fact: '–ê—é—É–ª–∞—Ä –∫—ã—à—ã–Ω–¥–∞ —É–π–∫—É–≥–∞ –∫–µ—Ç–µ—Ç.' },
                { icon: 'ü¶Ö', name: '–ë“Ø—Ä–∫“Ø—Ç', description: '–ë“Ø—Ä–∫“Ø—Ç - –∫”©–∫—Ç”©–≥“Ø –ø–∞–¥—ã—à–∞—Å—ã.', fact: '–ë“Ø—Ä–∫“Ø—Ç 320 –∫–º/—Å–∞–∞—Ç —ã–ª–¥–∞–º–¥—ã–∫–∫–∞ –∂–µ—Ç–µ—Ç!' },
                { icon: 'üê∫', name: '–ö–∞—Ä—ã—à–∫—ã—Ä', description: '–ö–∞—Ä—ã—à–∫—ã—Ä–ª–∞—Ä –∞–∫—ã–ª–¥—É—É –∂—ã—Ä—Ç–∫—ã—á—Ç–∞—Ä.', fact: '–ö–∞—Ä—ã—à–∫—ã—Ä–ª–∞—Ä —Ç–æ–ø –±–æ–ª—É–ø –∂–∞—à–∞–π—Ç.' },
                { icon: 'ü¶å', name: '–ú–∞—Ä–∞–ª', description: '–ú–∞—Ä–∞–ª - –∫–æ–æ–∑ –∂–∞–Ω—ã–±–∞—Ä.', fact: '–ú–∞—Ä–∞–ª–¥–∞—Ä–¥—ã–Ω –º“Ø–π“Ø–∑–¥”©—Ä“Ø –∂—ã–ª —Å–∞–π—ã–Ω ”©—Å”©—Ç!' }
            ],
            facts: [
                { icon: 'üêÜ', name: '–´–ª–¥–∞–º–¥—ã–∫ —á–µ–º–ø–∏–æ–Ω–¥–æ—Ä—É', description: '–ì–µ–ø–∞—Ä–¥ - —ç“£ —ã–ª–¥–∞–º –∂–∞–Ω—ã–±–∞—Ä!', fact: '–ì–µ–ø–∞—Ä–¥ 3 —Å–µ–∫—É–Ω–¥–¥–∞ 100 –∫–º/—Å–∞–∞—Ç —ã–ª–¥–∞–º–¥–∞–π—Ç!' },
                { icon: 'üêã', name: '–ü–ª–∞–Ω–µ—Ç–∞–Ω—ã–Ω –≥–∏–≥–∞–Ω—Ç—Ç–∞—Ä—ã', description: '–ö”©–∫ –∫–∏—Ç - —ç“£ —á–æ“£ –∂–∞–Ω—ã–±–∞—Ä.', fact: '–ö–∏—Ç—Ç–∏–Ω –∂“Ø—Ä”©–≥“Ø –º–∞—à–∏–Ω–∞ ”©–ª—á”©–º“Ø–Ω–¥”©!' },
                { icon: 'ü¶ú', name: '–ê–∫—ã–ª–¥—É—É –∂–∞–Ω—ã–±–∞—Ä–ª–∞—Ä', description: '–î–µ–ª—å—Ñ–∏–Ω–¥–µ—Ä ”©—Ç”© –∞–∫—ã–ª–¥—É—É!', fact: '–î–µ–ª—å—Ñ–∏–Ω–¥–µ—Ä —É–∫—Ç–∞–≥–∞–Ω–¥–∞ –º—ç—ç—Å–∏–Ω–∏–Ω –±–∏—Ä –∂–∞–≥—ã –∞—á—ã–∫ –∫–∞–ª–∞—Ç!' }
            ]
        };

        function initFirebase() {
            try {
                firebase.initializeApp(firebaseConfig);
                db = firebase.database();
                updateStatus('‚úÖ Firebase –∂–∞–ª–≥–∞–Ω–≥–∞–Ω', '');
                loadFromFirebase();
            } catch (error) {
                console.error('Firebase –∫–∞—Ç–∞:', error);
                updateStatus('‚ùå Firebase –∫–∞—Ç–∞—Å—ã', 'error');
                renderAll();
            }
        }

        function updateStatus(msg, type = '') {
            const el = document.getElementById('firebase-status');
            el.className = 'firebase-status ' + type;
            el.textContent = msg;
        }

        function loadFromFirebase() {
            updateStatus('üîÑ –ñ“Ø–∫—Ç”©–ª“Ø“Ø–¥”©...', 'loading');
            db.ref('animals').once('value').then(snap => {
                if (snap.exists()) {
                    myAnimals = snap.val();
                } else {
                    db.ref('animals').set(myAnimals);
                }
                updateStatus('‚úÖ Firebase –∏—à—Ç–µ–ø –∂–∞—Ç–∞—Ç', '');
                renderAll();
                
                db.ref('animals').on('value', snap => {
                    if (snap.exists()) {
                        myAnimals = snap.val();
                        renderAll();
                    }
                });
            }).catch(err => {
                console.error(err);
                updateStatus('‚ùå –ö–∞—Ç–∞: ' + err.message, 'error');
                renderAll();
            });
        }

        function saveToFirebase() {
            return db.ref('animals').set(myAnimals);
        }

        function renderAll() {
            ['pets', 'wild', 'facts'].forEach(cat => {
                const grid = document.getElementById(cat + '-grid');
                grid.innerHTML = '';
                myAnimals[cat].forEach((animal, i) => {
                    const card = document.createElement('div');
                    card.className = 'animal-card';
                    card.innerHTML = `
                        <button class="btn-delete" onclick="deleteAnimal('${cat}', ${i})">üóëÔ∏è ”®—á“Ø—Ä“Ø“Ø</button>
                        <div class="animal-icon">${animal.icon}</div>
                        <div class="animal-name">${animal.name}</div>
                        <div class="animal-info">
                            <p>${animal.description}</p>
                            <div class="fact-box">
                                <div class="fact-title">–ö—ã–∑—ã–∫—Ç—É—É —Ñ–∞–∫—Ç:</div>
                                ${animal.fact}
                            </div>
                        </div>
                    `;
                    grid.appendChild(card);
                });
            });
        }

        function showSection(id) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            event.target.classList.add('active');
        }

        async function addAnimal() {
            const cat = document.getElementById('category').value;
            const icon = document.getElementById('icon').value;
            const name = document.getElementById('name').value;
            const desc = document.getElementById('description').value;
            const fact = document.getElementById('fact').value;

            if (!cat || !icon || !name || !desc || !fact) {
                alert('–ë–∞—Ä–¥—ã–∫ —Ç–∞–ª–∞–∞–ª–∞—Ä–¥—ã —Ç–æ–ª—Ç—É—Ä—É“£—É–∑!');
                return;
            }

            myAnimals[cat].push({ icon, name, description: desc, fact });

            try {
                await saveToFirebase();
                document.getElementById('category').value = '';
                document.getElementById('icon').value = '';
                document.getElementById('name').value = '';
                document.getElementById('description').value = '';
                document.getElementById('fact').value = '';

                document.getElementById('success-msg').classList.add('show');
                setTimeout(() => document.getElementById('success-msg').classList.remove('show'), 3000);
                
                const btn = document.querySelector('.nav-btn[onclick*="' + cat + '"]');
                if (btn) btn.click();
            } catch (err) {
                alert('–ö–∞—Ç–∞: ' + err.message);
            }
        }

        async function deleteAnimal(cat, idx) {
            if (confirm('”®—á“Ø—Ä“Ø“Ø–Ω“Ø –∫–∞–∞–ª–∞–π—Å—ã–∑–±—ã?')) {
                myAnimals[cat].splice(idx, 1);
                try {
                    await saveToFirebase();
                } catch (err) {
                    alert('–ö–∞—Ç–∞: ' + err.message);
                }
            }
        }

        window.addEventListener('load', initFirebase);
    </script>
</body>
</html>